{"version":3,"file":"iterable-differ-helper.js","sourceRoot":"","sources":["iterable-differ-helper.ts"],"names":[],"mappings":"AAAA;;;;;;;;;;;GAWG;;AAEH,qBAIO,eAAe,CAAC,CAAA;AAOvB;IAKI,8BAAoB,QAAyB;QAAzB,aAAQ,GAAR,QAAQ,CAAiB;QAFrC,qBAAgB,GAA2B,EAAE,CAAC;IAEL,CAAC;IAElD,sCAAO,GAAP,UAAQ,IAAiB;QACrB,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC;IACtB,CAAC;IAED,oCAAK,GAAL,UAAM,IAAY,EAAE,OAAsB;QACtC,EAAE,CAAC,CAAC,IAAI,IAAI,OAAO,CAAC,CAAC,CAAC;YAClB,IAAM,KAAK,GAAG,OAAO,CAAC,IAAI,CAAC,CAAC,YAAY,CAAC;YACzC,IAAI,CAAC,WAAW,CAAC,IAAI,EAAE,KAAK,CAAC,CAAC;QAClC,CAAC;IACL,CAAC;IAED,0CAAW,GAAX,UAAY,IAAY,EAAE,KAAU;QAChC,EAAE,CAAC,CAAC,KAAK,IAAI,KAAK,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;YAChC,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;gBAC/B,IAAI,CAAC;oBACD,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,GAAG,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;oBACrE,MAAM,CAAC,IAAI,CAAC;gBAChB,CAAE;gBAAA,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;YACnB,CAAC;QACL,CAAC;QAAC,IAAI,CAAC,CAAC;YACJ,OAAO,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,CAAC;QACvC,CAAC;QAED,MAAM,CAAC,KAAK,CAAC;IACjB,CAAC;IAED,yCAAU,GAAV,UAAW,IAAY,EAAE,KAAU;QAC/B,EAAE,CAAC,CAAC,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;YAC9B,MAAM,CAAC,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;QACnD,CAAC;IACL,CAAC;IAED,sCAAO,GAAP,UAAQ,IAAY;QAChB,EAAE,CAAC,CAAC,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;YAC9B,IAAM,OAAO,GAAG,IAAI,CAAC,UAAU,CAAC,IAAI,EAAE,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC;YACxD,EAAE,CAAC,CAAC,OAAO,IAAI,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC,CAAC;gBACjC,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,MAAM,CAAC,IAAI,EAAE,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC;YACvD,CAAC;QACL,CAAC;IACL,CAAC;IAEE,+BAAU,GAA0B;QAC3C,EAAE,IAAI,EAAE,iBAAU,EAAE;KACnB,CAAC;IAEK,mCAAc,GAAmE,cAAM,OAAA;QAC9F,EAAC,IAAI,EAAE,sBAAe,GAAG;KACxB,EAF6F,CAE7F,CAAC;IACF,2BAAC;AAAD,CAAC,AAvDD,IAuDC;AAvDY,4BAAoB,uBAuDhC,CAAA","sourcesContent":["/*!\n * devextreme-angular\n * Version: 17.1.7\n * Build date: Wed Oct 04 2017\n *\n * Copyright (c) 2012 - 2017 Developer Express Inc. ALL RIGHTS RESERVED\n *\n * This software may be modified and distributed under the terms\n * of the MIT license. See the LICENSE file in the root of the project for details.\n *\n * https://github.com/DevExpress/devextreme-angular\n */\n\nimport {\n    Injectable,\n    SimpleChanges,\n    IterableDiffers\n} from '@angular/core';\n\nimport {\n    DxComponent\n} from './component';\n\n\nexport class IterableDifferHelper {\n\n    private _host: DxComponent;\n    private _propertyDiffers: { [id: string]: any; } = {};\n\n    constructor(private _differs: IterableDiffers) { }\n\n    setHost(host: DxComponent) {\n        this._host = host;\n    }\n\n    setup(prop: string, changes: SimpleChanges) {\n        if (prop in changes) {\n            const value = changes[prop].currentValue;\n            this.setupSingle(prop, value);\n        }\n    }\n\n    setupSingle(prop: string, value: any) {\n        if (value && Array.isArray(value)) {\n            if (!this._propertyDiffers[prop]) {\n                try {\n                    this._propertyDiffers[prop] = this._differs.find(value).create(null);\n                    return true;\n                } catch (e) { }\n            }\n        } else {\n            delete this._propertyDiffers[prop];\n        }\n\n        return false;\n    }\n\n    getChanges(prop: string, value: any) {\n        if (this._propertyDiffers[prop]) {\n            return this._propertyDiffers[prop].diff(value);\n        }\n    }\n\n    doCheck(prop: string) {\n        if (this._propertyDiffers[prop]) {\n            const changes = this.getChanges(prop, this._host[prop]);\n            if (changes && this._host.instance) {\n                this._host.instance.option(prop, this._host[prop]);\n            }\n        }\n    }\n\nstatic decorators: DecoratorInvocation[] = [\n{ type: Injectable },\n];\n/** @nocollapse */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n{type: IterableDiffers, },\n];\n}\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n"]}